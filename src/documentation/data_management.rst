.. _data_management:

***************
Data management
***************

Documentation of the code in *src/data_management*.


Latent profile analysis data preprocessing
==========================================

- `task_lpa_process_aux_var_data.py` collects data from various raw data sources and saves the cleaned and merged resulting dataframe into a csv file. The dataframe contains all auxiliary variables used in the second stage of the latent profile analysis. These auxiliary variables stay the same for all sets of first-stage models under consideration.
- `task_lpa_create_partial_dfs.py` creates cleaned dataframes of sets of variables which are specified in the `src/model_specs` directory. These are the first-stage sets of variables for gaussian mixture models (i.e. latent profiles).
- `task_lpa_get_optimal_params.py` reads in tables of performance metrics for each gaussian mixture model generated by the variable sets in the `model_specs`, which have been calculated by `src/analysis/task_lpa_analysis.py`. It then extracts the best performing model parameters for each set of variables into `src/model_specs/lpa_optimal_params_set_x.json`.

.. automodule:: src.data_management.task_lpa_process_aux_var_data
    :members:

.. automodule:: src.data_management.task_lpa_create_partial_dfs
    :members:

.. automodule:: src.data_management.task_lpa_get_optimal_params
    :members:



Sparse modelling (adaptive lasso) data preprocessing
====================================================

- `task_lpa_protask_process_sparse_modelling_real_data.py` collects data from various raw data sources and saves the cleaned and merged resulting dataframe into csv files. The four resulting files differ in whether *political data* (from the LISS dataset `politics_values.pickle`) or *profession data* (from the LISS dataset `background_data_merged.pickle`) (or both) were added.


.. automodule:: src.data_management.task_process_sparse_modelling_real_data
    :members: